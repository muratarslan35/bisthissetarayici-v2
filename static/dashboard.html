<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>BIST Tarayıcı Dashboard</title>
<style>
body { font-family: Arial; background:#f2f2f2; }
table { width: 100%; border-collapse: collapse; background:white; }
th, td { padding: 8px; border: 1px solid #ddd; text-align: center; }
th { background: #333; color:white; }
</style>
<script>
async function loadData() {
    let res = await fetch("/api");
    let js = await res.json();

    let html = "";
    js.data.forEach(row => {
        html += `
        <tr>
            <td>${row.symbol}</td>
            <td>${row.current_price}</td>
            <td>${row.RSI}</td>
            <td>${row.last_signal}</td>
            <td>${row.daily_change}</td>
            <td>${row.volume}</td>
            <td>${row.trend}</td>
            <td>${row.signal_time}</td>
        </tr>`;
    });

    document.getElementById("rows").innerHTML = html;
}
setInterval(loadData, 10000);
</script>
</head>

<body onload="loadData()">

<h2>BIST Tarayıcı Dashboard</h2>
<table>
<tr>
<th>Hisse</th>
<th>Fiyat</th>
<th>RSI</th>
<th>Sinyal</th>
<th>Günlük Değ.</th>
<th>Hacim</th>
<th>Trend</th>
<th>Zaman</th>
</tr>
<tbody id="rows"></tbody>
</table>
</body>
</html>

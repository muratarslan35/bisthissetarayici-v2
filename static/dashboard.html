<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>BIST Dashboard</title>
    <style>
        body { background:#121212; color:#fff; font-family:Arial; }
        .card { background:#1d1d1d; padding:20px; margin:20px; border-radius:8px; }
        .signal { background:#272727; padding:10px; margin-top:8px; border-radius:5px; }
    </style>
</head>
<body>
    <h1>BIST Dashboard</h1>
    <div id="status">Yükleniyor...</div>
    <div id="signals"></div>

<script>
async function loadData() {
    const r = await fetch("/api/data");
    const j = await r.json();

    document.getElementById("status").innerHTML =
        "Son Güncelleme: " + j.data.timestamp;

    let html = "";
    if (j.data.signals.length === 0) {
        html = "<p>Şu anda sinyal yok.</p>";
    } else {
        j.data.signals.forEach(s => {
            html += `
                <div class="signal">
                    <b>${s.symbol}</b><br>
                    ${s.type}<br>
                    Fiyat: ${s.price}<br>
                    Detay: ${s.details}
                </div>
            `;
        });
    }

    document.getElementById("signals").innerHTML = html;
}

setInterval(loadData, 5000);
loadData();
</script>
</body>
</html>
